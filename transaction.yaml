name: Transactions
description: 'Manage transactions'
endpoints:
  transactions:
    POST:
      description: 'Manage your transactions'
      file: scripts/Transactions.js
      parameters:
        ammount:
          type: integer
          description: The amount of the transaction in minor units of currency. For example pennies in the case of GBP. A negative amount indicates a debit (most card transactions will have a negative amount)
        decline_reason:
          type: string
          description: This is only present on declined transactions! Valid values are INSUFFICIENT_FUNDS, CARD_INACTIVE, CARD_BLOCKED or OTHER.
        is_load:
          type: boolean
          description: Top-ups to an account are represented as transactions with a positive amount and is_load = true. Other transactions such as refunds, reversals or chargebacks may have a positive amount but is_load = false
        settled:
          type: boolean
          description: The timestamp at which the transaction settled. In most cases, this happens 24-48 hours after created. If this field is not present, the transaction is authorised but not yet ‚Äúcomplete.‚Äù
        category:
          type: string
          description: The category can be set for each transaction by the user. Over time we learn which merchant goes in which category and auto-assign the category of a transaction. If the user hasn‚Äôt set a category, we‚Äôll return the default category of the merchant on this transactions. Top-ups have category mondo. Valid values are general, eating_out, expenses, transport, cash, bills, entertainment, shopping, holidays, groceries.
        merchant:
          type: string
          description: This contains the merchant_id of the merchant that this transaction was made at. If you pass ?expand[]=merchant in your request URL, it will contain lots of information about the merchant.
        response:
          mimetype: application/json
          examples:
            - exit_code: 200
              description: "Success"
              example:
                {
                  "transaction": {
                    "account_balance": 13013,
                    "amount": -510,
                    "created": "2015-08-22T12:20:18Z",
                    "currency": "GBP",
                    "description": "THE DE BEAUVOIR DELI C LONDON        GBR",
                    "id": "tx_00008zIcpb1TB4yeIFXMzx",
                    "merchant": {
                      "address": {
                        "address": "98 Southgate Road",
                        "city": "London",
                        "country": "GB",
                        "latitude": 51.54151,
                        "longitude": -0.08482400000002599,
                        "postcode": "N1 3JD",
                        "region": "Greater London"
                      },
                      "created": "2015-08-22T12:20:18Z",
                      "group_id": "grp_00008zIcpbBOaAr7TTP3sv",
                      "id": "merch_00008zIcpbAKe8shBxXUtl",
                      "logo": "https://pbs.twimg.com/profile_images/527043602623389696/68_SgUWJ.jpeg",
                      "emoji": "üçû",
                      "name": "The De Beauvoir Deli Co.",
                      "category": "eating_out"
                    },
                    "metadata": {},
                    "notes": "Salmon sandwich üçû",
                    "is_load": false,
                    "settled": "2015-08-23T12:20:18Z"
                  }
              }
            - exit_code: 400
              description: "Failure"
              example: 
                {
                  "reason": "Internal error!"
                }
    list:
      POST:
        description: 'List your transactions'
        file: scripts/TransactionsList.js
        parameters:
          account_id: 
            type: string
            description: Your account's id
        response:
          mimetype: application/json
          examples:
            - exit_code: 200
              description: "Success"
              example:
                {
                  "transactions": [
                    {
                      "account_balance": 13013,
                      "amount": -510,
                      "created": "2015-08-22T12:20:18Z",
                      "currency": "GBP",
                      "description": "THE DE BEAUVOIR DELI C LONDON        GBR",
                      "id": "tx_00008zIcpb1TB4yeIFXMzx",
                      "merchant": "merch_00008zIcpbAKe8shBxXUtl",
                      "metadata": {},
                      "notes": "Salmon sandwich üçû",
                      "is_load": false,
                      "settled": "2015-08-23T12:20:18Z",
                      "category": "eating_out"
                    },
                    {
                      "account_balance": 12334,
                      "amount": -679,
                      "created": "2015-08-23T16:15:03Z",
                      "currency": "GBP",
                      "description": "VUE BSL LTD            ISLINGTON     GBR",
                      "id": "tx_00008zL2INM3xZ41THuRF3",
                      "merchant": "merch_00008z6uFVhVBcaZzSQwCX",
                      "metadata": {},
                      "notes": "",
                      "is_load": false,
                      "settled": "2015-08-24T16:15:03Z",
                      "category": "eating_out"
                    },
                  ]
                }
            - exit_code: 400
              description: "Failure"
              example: 
                {
                  "reason": "Internal error!"
                }
